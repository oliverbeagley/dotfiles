export XDG_DATA_HOME=$HOME/.local/share
export XDG_CONFIG_HOME=$HOME/.config
export XDG_STATE_HOME=$HOME/.local/state
export XDG_CACHE_HOME=$HOME/.cache

export PATH="$PATH:/home/olly/.local/bin"
export EDITOR=vim

export ZSH="$HOME/.oh-my-zsh"

plugins=(
{{- range .zshPlugins }}
  {{ . }}
{{- end }}
)

source $ZSH/oh-my-zsh.sh

# this must be after omz
eval "$(oh-my-posh init zsh --config $HOME/.config/ohmyposh/config.toml)"

alias ezal='eza --long --git'
alias R='R --no-save'
alias bat="batcat"

export BAT_THEME="Solarized (dark)"
# otherwise `fuck` is slow on wsl
export THEFUCK_EXCLUDED_SEARCH_PATH_PREFIXES=/mnt/
# Because ripgrep doesn't look for config in the proper place
export RIPGREP_CONFIG_PATH=${XDG_CONFIG_HOME}/ripgrep/config

autoload -Uz compinit
zstyle ':completion:*' menu select
fpath+=~/.zfunc

# azure cli only provide bash completions
autoload -U +X bashcompinit && bashcompinit

#
eval "$(aactivator init)"

fif() {
  if [ ! "$#" -gt 0 ]; then echo "Need a string to search for"; return 1; fi
  rg --files-with-matches --no-messages "$1" | fzf --preview "highlight -O ansi -l {} 2> /dev/null | rg --colors 'match:bg:yellow' --ignore-case --pretty --context 10 '$1' || rg --ignore-case --pretty --context 10 '$1' {}"
}
